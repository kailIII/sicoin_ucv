(dp1
S'output'
p2
S"<type 'exceptions.TypeError'> 'NoneType' object is not callable"
p3
sS'layer'
p4
S'/home/www-data/web2py/applications/sicoin/controllers/correspondencia.py'
p5
sS'code'
p6
S'# coding: utf8\nT.force(\'es\')\nfrom plugin_solidform import SOLIDFORM\n\n@auth.requires(auth.has_membership(\'recepcionista\') or auth.has_membership(\'master\') or auth.has_membership(\'supervisor\') or auth.has_membership(\'analista\'))\ndef listar_correspondencias():\n    session.pag_editar = URL("editar_correspondencia")\n    session.pag_previa = URL(\'listar_correspondencias\')\n    db.correspondencia.fecha_registro.readable = True\n    db.correspondencia.modificado_por.readable = True\n    db.correspondencia.registrado_por.readable = True\n    links = None \n    fields = [db.correspondencia.nro_de_documento, db.correspondencia.fecha_registro, db.correspondencia.tipo_de_documento,\n              db.correspondencia.estatus,db.correspondencia.remitente,db.correspondencia.destinatario,db.correspondencia.asunto,  \n              db.correspondencia.registrado_por, db.correspondencia.modificado_por,]\n    orderby = [~db.correspondencia.fecha_registro,] \n    if auth.has_membership(\'recepcionista\'):\n        deletable = False\n        editable=True\n        details = True\n        create=True\n    if auth.has_membership(\'analista\'):\n        deletable = False\n        editable=True\n        details = True\n        create=True\n    if auth.has_membership(\'supervisor\'):\n        deletable = False\n        editable=True\n        details = True\n        create=False\n    query = ((db.correspondencia.registrado_por==auth.user.id) | (db.correspondencia.asignado_a==auth.user.id))\n    if auth.has_membership(\'master\'):\n        deletable = False\n        editable=False\n        details = True\n        create=True\n        query = ((db.correspondencia.registrado_por==auth.user.id) | (db.correspondencia.asignado_a==auth.user.id))\n    links = [lambda row: A(TAG[\'\'](SPAN(_class="icon icon-list"),SPAN(\'Hist\xc3\xb3rico\', _class="buttontext button", _title="Hist\xc3\xb3rico")), _class="w2p_trap button btn popup", _href=URL(\'ver_historico\', args=[row.id])),\n             lambda row: A(TAG[\'\'](SPAN(_class="icon icon-user"),SPAN(\'CC a\', _class="buttontext button", _title="CC a")), _class="w2p_trap button btn popup", _href=URL(\'agregarCorrespondenciaMultiple2\', args=[row.id]))]\n    grid = SQLFORM.grid(query, fields = fields, user_signature=False, selectable = lambda ids: reporte_entregas(ids),deletable=deletable, editable=editable, details = details,create=create, csv=False, orderby = orderby, links = links)\n    return dict(grid = grid)\n\n@auth.requires(auth.has_membership(\'recepcionista\') or auth.has_membership(\'supervisor\') or auth.has_membership(\'master\'))\ndef listar_correspondencias_departamento():\n    #Corrige las busquedas por nombre, devolviendo el id y reconstruyendo el request\n    #corregirBusquedas()\n    session.pag_editar = URL("editar_correspondencia_departamento")\n    session.pag_previa = URL(\'listar_correspondencias_departamento\') \n    db.correspondencia.modificado_por.readable = True\n    db.correspondencia.registrado_por.readable = True\n    fields = [db.correspondencia.nro_de_documento,db.correspondencia.fecha_registro,\n              db.correspondencia.estatus,db.correspondencia.remitente,\n              db.correspondencia.destinatario,db.correspondencia.asunto, \n              db.correspondencia.registrado_por, db.correspondencia.modificado_por,]\n    orderby = [~db.correspondencia.fecha_registro,] \n    deletable = False\n    editable=True\n    details = True\n    create=False\n    db.correspondencia.nro_de_documento.writable = False\n    db.correspondencia.fecha_registro.writable = False\n    db.correspondencia.tipo_de_documento.writable = False\n    db.correspondencia.remitente.writable = False\n    db.correspondencia.departamento_origen.writable = False\n    db.correspondencia.destinatario.writable = False\n    db.correspondencia.departamento_destino.writable = False\n    db.correspondencia.asunto.writable = False\n    db.correspondencia.registrado_por.writable = False\n    links = [lambda row: A(TAG[\'\'](SPAN(_class="icon icon-list"),SPAN(\'Hist\xc3\xb3rico\', _class="buttontext button", _title="Hist\xc3\xb3rico")), _class="w2p_trap button btn popup", _href=URL(\'ver_historico\', args=[row.id]))]\n    query = (db.correspondencia.departamento_destino==auth.user.departamento)|(db.correspondencia.departamento_origen==auth.user.departamento)\n    #estatus = db.estatus.tipo_estatus == "archivado"\n    #constraints = {\'db.correspondencia.departamento_destino\':auth.user.departamento,\n    #               \'db.correspondencia.departamento_origen\':auth.user.departamento}\n    grid = SQLFORM.grid(query, fields = fields, user_signature=False, deletable=deletable, editable=editable, \n                        details = details,create=create, csv=False, orderby = orderby, links = links)\n    return dict(grid = grid)      \n      \n@auth.requires(auth.has_membership(\'master\'))\ndef listar_correspondencias_master(): \n    session.pag_previa = URL(\'listar_correspondencias_master\') \n    fields = [db.correspondencia.nro_de_documento,db.correspondencia.fecha_registro,db.correspondencia.estatus,db.correspondencia.remitente,db.correspondencia.destinatario,db.correspondencia.asunto,db.correspondencia.registrado_por, db.correspondencia.modificado_por,]\n    orderby = [~db.correspondencia.fecha_registro, db.correspondencia.departamento_origen, db.correspondencia.departamento_origen] \n    deletable = False\n    editable=False\n    details = True\n    create=False\n    db.correspondencia.registrado_por.writable = False\n    db.correspondencia.modificado_por.writable = False\n    links = [lambda row: A(TAG[\'\'](SPAN(_class="icon icon-list"),SPAN(\'Hist\xc3\xb3rico\', _class="buttontext button", _title="Hist\xc3\xb3rico")), _class="w2p_trap button btn popup", _href=URL(\'ver_historico\', args=[row.id]))]\n    query =db.correspondencia \n    grid = SQLFORM.grid(query, fields = fields, user_signature=False, deletable=deletable, editable=editable, \n                        details = details,create=create, csv=False, orderby = orderby, links = links)\n    return dict(grid = grid)\n\n@auth.requires(auth.has_membership(\'recepcionista\') or auth.has_membership(\'master\') or auth.has_membership(\'supervisor\') or auth.has_membership(\'analista\'))\ndef agregar_correspondencia():\n    session.pag_previa = URL(\'agregar_correspondencia\') \n    request_fields = request.vars.fields or \'default\'\n    asignados = usuariosDepartamento()\n\n################################ The core ######################################\n    # Specify structured fields for the multi-line form layout.\n    # A "None" indicates an empty line over which the precedent line spans\n    if request_fields == \'default\':\n        fields = [\n                  [\'nro_de_documento\', \'fecha_correspondencia\'],\n                  [\'tipo_de_documento\', \'estatus\'],\n                  \'asunto\',\n                  [\'departamento_origen\', \'departamento_destino\'],\n                  [None, None],\n                  [\'remitente\', \'destinatario\'],\n                  [None, \'observaciones\'],\n                  \'asignado_a\'\n                  ]\n    \n    form = SOLIDFORM(db.correspondencia, fields=fields, tabla = auth.archive)\n    if form.process(onsuccess=auth.archive).accepted:\n        session.flash = \'registro procesado con \xc3\xa9xito\'\n        redirect(URL(\'/listar_correspondencias\'))\n    style = STYLE("""input[type="text"], textarea {width:100%; max-height: 50px;}\n                     .w2p_fw {padding-right: 10px; max-width:100%;}\n                     .w2p_fl {background: #eee;}\n                     .string {max-width: 300px;}\n                     .date {max-width: 80px;}""")\n    return dict(asignados = asignados,\n                form=DIV(style, form),\n                #form__factory=form_factory, form__readonly=form_readonly, form__edit=form_edit,\n                form_args=DIV(A(\'fields=default\', _href=URL(vars={\'fields\': \'default\'})), \' \',\n                               ))\n\n@auth.requires(auth.has_membership(\'recepcionista\') or auth.has_membership(\'master\') or auth.has_membership(\'supervisor\') or auth.has_membership(\'analista\'))\ndef ver_correspondencia():\n    id = request.args(1)\n    tabla = request.args(0)\n    fields = [\n                  [\'nro_de_documento\', \'fecha_correspondencia\'],\n                  [\'tipo_de_documento\', \'estatus\'],\n                  \'asunto\',\n                  [\'departamento_origen\', \'departamento_destino\'],\n                  [None, None],\n                  [\'remitente\', \'destinatario\'],\n                  [None, \'observaciones\'],\n                  [\'asignado_a\', \'registrado_por\'],\n                  [\'modificado_el\', \'modificado_por\'],\n                  ]\n\n    if (tabla == "activo"):\n        db.correspondencia.modificado_el.readable = True\n        db.correspondencia.modificado_por.readable = True\n        correspondencia = db(db.correspondencia.id==id).select().first()\n        form = SOLIDFORM(db.correspondencia, correspondencia, fields=fields, showid=False, readonly=True)\n    elif (tabla == "archivo"):\n        db.correspondencia_archive.modificado_el.readable = True\n        db.correspondencia_archive.modificado_por.readable = True\n        correspondencia = db(db.correspondencia_archive.id==id).select().first()\n        form = SOLIDFORM(db.correspondencia_archive, correspondencia, fields=fields, showid=False, readonly=True)\n    if form.accepts(request.vars, session):\n        session.flash = \'registro procesado con \xc3\xa9xito\'\n        redirect(URL(\'/listar_correspondencias\'))\n     \n    style = STYLE("""input[type="text"], textarea {width:100%; max-height: 50px;}\n                     .w2p_fw {padding-right: 10px; max-width:100%;}\n                     .w2p_fl {background: #eee;}\n                     .string {max-width: 300px;}\n                     .date {max-width: 80px;}""")\n    return dict(id = id, form=DIV(style, form),\n                #form__factory=form_factory, form__readonly=form_readonly, form__edit=form_edit,\n                form_args=DIV(A(\'fields=default\', _href=URL(vars={\'fields\': \'default\'})), \' \',\n\n                               ))\n                            \n@auth.requires(auth.has_membership(\'recepcionista\') or auth.has_membership(\'master\') or auth.has_membership(\'supervisor\') or auth.has_membership(\'analista\'))\ndef editar_correspondencia():\n    session.pag_previa = URL(\'editar_correspondencia\') \n    id = request.args(0)\n    asignados = usuariosDepartamento()\n    fields = [\n                  [\'nro_de_documento\', \'fecha_correspondencia\'],\n                  [\'tipo_de_documento\', \'estatus\'],\n                  \'asunto\',\n                  [\'departamento_origen\', \'departamento_destino\'],\n                  [None, None],\n                  [\'remitente\', \'destinatario\'],\n                  [None, \'observaciones\'],\n                  [\'asignado_a\'],\n                  \n                  ]\n    if auth.has_membership(\'analista\'):\n        db.correspondencia.nro_de_documento.readable = True\n        db.correspondencia.nro_de_documento.writable = False\n        db.correspondencia.fecha_correspondencia.readable = True\n        db.correspondencia.fecha_correspondencia.writable = False\n        db.correspondencia.tipo_de_documento.readable = True\n        db.correspondencia.tipo_de_documento.writable = False\n        db.correspondencia.asunto.readable = True\n        db.correspondencia.asunto.writable = False\n        db.correspondencia.departamento_origen.readable = True\n        db.correspondencia.departamento_origen.writable = False\n        db.correspondencia.departamento_destino.readable = True\n        db.correspondencia.departamento_destino.writable = False\n        db.correspondencia.remitente.readable = True\n        db.correspondencia.remitente.writable = False\n        db.correspondencia.destinatario.readable = True\n        db.correspondencia.destinatario.writable = False        \n        db.correspondencia.asignado_a.readable = True\n        db.correspondencia.asignado_a.writable = False\n    if auth.has_membership(\'supervisor\'):\n        db.correspondencia.nro_de_documento.readable = True\n        db.correspondencia.nro_de_documento.writable = False\n        db.correspondencia.fecha_correspondencia.readable = True\n        db.correspondencia.fecha_correspondencia.writable = False\n        db.correspondencia.tipo_de_documento.readable = True\n        db.correspondencia.tipo_de_documento.writable = False\n        db.correspondencia.asunto.readable = True\n        db.correspondencia.asunto.writable = False\n        db.correspondencia.departamento_origen.readable = True\n        db.correspondencia.departamento_origen.writable = False\n        db.correspondencia.departamento_destino.readable = True\n        db.correspondencia.departamento_destino.writable = False\n        db.correspondencia.remitente.readable = True\n        db.correspondencia.remitente.writable = False\n        db.correspondencia.destinatario.readable = True\n        db.correspondencia.destinatario.writable = False        \n        db.correspondencia.asignado_a.readable = True\n        db.correspondencia.asignado_a.writable = False\n    #db.correspondencia.modificado_por.writable = True\n    #db.correspondencia.modificado_el.writable = True\n    correspondencia = db(db.correspondencia.id==id).select().first()\n    form = SOLIDFORM(db.correspondencia, correspondencia, fields=fields, showid=False, readonly=False)\n    if form.process(onsuccess=auth.archive).accepted:\n        session.flash = \'registro modificado con \xc3\xa9xito\'\n        redirect(URL(\'/listar_correspondencias\'))\n     \n    style = STYLE("""input[type="text"], textarea {width:100%; max-height: 50px;}\n                     .w2p_fw {padding-right: 10px; max-width:100%;}\n                     .w2p_fl {background: #eee;}\n                     .string {max-width: 300px;}\n                     .date {max-width: 80px;}""")\n    return dict(asignados = asignados,\n                 form=DIV(style, form),\n                 #form__factory=form_factory, form__readonly=form_readonly, form__edit=form_edit,\n                 form_args=DIV(A(\'fields=default\', _href=URL(vars={\'fields\': \'default\'})), \' \',\n\n                               ))\n\n@auth.requires(auth.has_membership(\'recepcionista\') or auth.has_membership(\'supervisor\') or auth.has_membership(\'master\'))\ndef ver_correspondencia_departamento():\n    id = request.args(0)\n    fields = [\n                  [\'nro_de_documento\', \'fecha_correspondencia\'],\n                  [\'tipo_de_documento\', \'estatus\'],\n                  \'asunto\',\n                  [\'departamento_origen\', \'departamento_destino\'],\n                  [None, None],\n                  [\'remitente\', \'destinatario\'],\n                  [None, \'observaciones\'],\n                  [\'asignado_a\', \'registrado_por\'],\n                  [\'modificado_el\', \'modificado_por\'],\n                  ]\n    db.correspondencia.nro_de_documento.writable = False\n    db.correspondencia.fecha_registro.writable = False\n    db.correspondencia.tipo_de_documento.writable = False\n    db.correspondencia.remitente.writable = False\n    db.correspondencia.departamento_origen.writable = False\n    db.correspondencia.destinatario.writable = False\n    db.correspondencia.departamento_destino.writable = False\n    db.correspondencia.asunto.writable = False\n    db.correspondencia.registrado_por.writable = False\n    db.correspondencia.modificado_el.readable = True\n    db.correspondencia.modificado_por.readable = True\n    correspondencia = db(db.correspondencia.id==id).select().first()\n    form = SOLIDFORM(db.correspondencia, correspondencia, fields=fields, showid=False, readonly=True)\n\n    if form.accepts(request.vars, session):\n        session.flash = \'registro procesado con \xc3\xa9xito\'\n        redirect(URL(\'/listar_correspondencias\'))\n     \n    style = STYLE("""input[type="text"], textarea {width:100%; max-height: 50px;}\n                     .w2p_fw {padding-right: 10px; max-width:100%;}\n                     .w2p_fl {background: #eee;}\n                     .string {max-width: 300px;}\n                     .date {max-width: 80px;}""")\n    return dict(id = id, form=DIV(style, form),\n                #form__factory=form_factory, form__readonly=form_readonly, form__edit=form_edit,\n                form_args=DIV(A(\'fields=default\', _href=URL(vars={\'fields\': \'default\'})), \' \',\n                               ))\n                              \n@auth.requires(auth.has_membership(\'recepcionista\') or auth.has_membership(\'supervisor\') or auth.has_membership(\'master\'))\ndef editar_correspondencia_departamento():\n    session.pag_previa = URL(\'editar_correspondencias_departamento\') \n    id = request.args(0)\n    asignados = usuariosDepartamento()\n    fields = [\n                  [\'nro_de_documento\', \'fecha_correspondencia\'],\n                  [\'tipo_de_documento\', \'estatus\'],\n                  \'asunto\',\n                  [\'departamento_origen\', \'departamento_destino\'],\n                  [None, None],\n                  [\'remitente\', \'destinatario\'],\n                  [None, \'observaciones\'],\n                  \'asignado_a\'\n                  ]\n    db.correspondencia.nro_de_documento.readable = True\n    db.correspondencia.nro_de_documento.writable = False\n    db.correspondencia.fecha_correspondencia.readable = True\n    db.correspondencia.fecha_correspondencia.writable = False\n    db.correspondencia.tipo_de_documento.readable = True\n    db.correspondencia.tipo_de_documento.writable = False\n    db.correspondencia.asunto.readable = True\n    db.correspondencia.asunto.writable = False\n    db.correspondencia.departamento_origen.readable = True\n    db.correspondencia.departamento_origen.writable = False\n    db.correspondencia.departamento_destino.readable = True\n    db.correspondencia.departamento_destino.writable = False\n    db.correspondencia.remitente.readable = True\n    db.correspondencia.remitente.writable = False\n    db.correspondencia.destinatario.readable = True\n    db.correspondencia.destinatario.writable = False        \n    db.correspondencia.asignado_a.readable = True\n    db.correspondencia.asignado_a.writable = True\n    \n    correspondencia = db(db.correspondencia.id==id).select().first()\n    form = SOLIDFORM(db.correspondencia, correspondencia, fields=fields, showid=False, readonly=False)\n    \n    if form.process(onsuccess=auth.archive).accepted:\n        session.flash = \'registro procesado con \xc3\xa9xito\'\n        redirect(URL(\'/listar_correspondencias_departamento\'))     \n\n    style = STYLE("""input[type="text"], textarea {width:100%; max-height: 50px;}\n                     .w2p_fw {padding-right: 10px; max-width:100%;}\n                     .w2p_fl {background: #eee;}\n                     .string {max-width: 300px;}\n                     .date {max-width: 80px;}""")\n    return dict(asignados = asignados,\n                form=DIV(style, form),\n                #form__factory=form_factory, form__readonly=form_readonly, form__edit=form_edit,\n                form_args=DIV(A(\'fields=default\', _href=URL(vars={\'fields\': \'default\'})), \' \',\n                               ))\n                               \ndef ver_historico():\n    id_registro = request.args(0)\n    #<a href="/sicoin/correspondencia/ver_correspondencia/4" class="w2p_trap button btn"><span class="icon magnifier icon-zoom-in"></span><span title="View" class="buttontext button">Vista</span></a>\n    db.correspondencia.id.represent= lambda value, row: CENTER(A(TAG[\'\'](SPAN(_class="icon magnifier icon-zoom-in"),SPAN(\'\', _class="buttontext button")),_class="w2p_trap button btn", _href = URL(\'ver_correspondencia/activo\', args = str(value))))                                                                   \n                                                                          \n    rows_actual = db(db.correspondencia.id==id_registro).select(db.correspondencia.modificado_el,\n                                                                             db.correspondencia.modificado_por,\n                                                                             db.correspondencia.nro_de_documento,\n                                                                             db.correspondencia.tipo_de_documento,\n                                                                             db.estatus.tipo_estatus, \n                                                                             db.correspondencia.remitente,\n                                                                             db.correspondencia.departamento_origen,\n                                                                             db.correspondencia.destinatario,\n                                                                             db.correspondencia.departamento_destino,\n                                                                             db.correspondencia.asunto,\n                                                                             db.correspondencia.observaciones,\n                                                                             db.correspondencia.id,\n                                                                     left=[db.estatus.on(db.estatus.id==db.correspondencia.estatus)])\n    db.correspondencia_archive.id.represent= lambda value, row: CENTER(A(TAG[\'\'](SPAN(_class="icon magnifier icon-zoom-in"),SPAN(\'\', _class="buttontext button")),_class="w2p_trap button btn", _href = URL(\'ver_correspondencia/archivo\', args = str(value))))\n    rows = db(db.correspondencia_archive.current_record==id_registro).select(db.correspondencia_archive.modificado_el,\n                                                                             db.correspondencia_archive.modificado_por,\n                                                                             db.correspondencia_archive.nro_de_documento,\n                                                                             db.correspondencia_archive.tipo_de_documento,\n                                                                             db.estatus.tipo_estatus, \n                                                                             db.correspondencia_archive.remitente,\n                                                                             db.correspondencia_archive.departamento_origen,\n                                                                             db.correspondencia_archive.destinatario,\n                                                                             db.correspondencia_archive.departamento_destino,\n                                                                             db.correspondencia_archive.asunto,\n                                                                             db.correspondencia_archive.observaciones,\n                                                                             db.correspondencia_archive.id,\n                                                                     left=[db.estatus.on(db.estatus.id==db.correspondencia_archive.estatus)])\n\n    headers = {\'correspondencia_archive.modificado_el\':{\'label\':\'Modificado el\',\n                       \'class\':\'\', #class name of the header\n                       \'width\':\'\', #width in pixels or %\n                       \'truncate\': 16, #truncate the content to...\n                       \'selected\': False #agregate class selected to this column\n                       },\n               \'correspondencia_archive.modificado_por\':{\'label\':\'Modificado por\',\n                            \'class\':\'\', #class name of the header\n                            \'width\':\'\', #width in pixels or %\n                            \'truncate\': 16, #truncate the content to...\n                            \'selected\': False #agregate class selected to this column\n                            },\n               \'correspondencia_archive.nro_de_documento\':{\'label\':\'Nro Documento\',\n                            \'class\':\'\', #class name of the header\n                            \'width\':\'\', #width in pixels or %\n                            \'truncate\': 16, #truncate the content to...\n                            \'selected\': False #agregate class selected to this column\n                            },\n               \'correspondencia_archive.tipo_de_documento\':{\'label\':\'Tipo Documento\',\n                            \'class\':\'\', #class name of the header\n                            \'width\':\'\', #width in pixels or %\n                            \'truncate\': 16, #truncate the content to...\n                            \'selected\': False #agregate class selected to this column\n                            },\n               \'estatus.tipo_estatus\':{\'label\':\'Estatus\',\n                            \'class\':\'\', #class name of the header\n                            \'width\':\'\', #width in pixels or %\n                            \'truncate\': 16, #truncate the content to...\n                            \'selected\': False #agregate class selected to this column\n                            },\n               \'correspondencia_archive.remitente\':{\'label\':\'Remitente\',\n                            \'class\':\'\', #class name of the header\n                            \'width\':\'\', #width in pixels or %\n                            \'truncate\': 50, #truncate the content to...\n                            \'selected\': False #agregate class selected to this column\n                            },\n               \'correspondencia_archive.departamento_origen\':{\'label\':\'Dpto. Origen\',\n                            \'class\':\'\', #class name of the header\n                            \'width\':\'\', #width in pixels or %\n                            \'truncate\': 16, #truncate the content to...\n                            \'selected\': False #agregate class selected to this column\n                            },\n               \'correspondencia_archive.destinatario\':{\'label\':\'Destinatario\',\n                            \'class\':\'\', #class name of the header\n                            \'width\':\'\', #width in pixels or %\n                            \'truncate\': 60, #truncate the content to...\n                            \'selected\': False #agregate class selected to this column\n                            },\n               \'correspondencia_archive.departamento_destino\':{\'label\':\'Depto. Destino\',\n                            \'class\':\'\', #class name of the header\n                            \'width\':\'\', #width in pixels or %\n                            \'truncate\': 16, #truncate the content to...\n                            \'selected\': False #agregate class selected to this column\n                            },\n                \'correspondencia_archive.asunto\':{\'label\':\'Asunto\',\n                            \'class\':\'\', #class name of the header\n                            \'width\':\'15%\', #width in pixels or %\n                            \'truncate\': 50, #truncate the content to...\n                            \'selected\': False #agregate class selected to this column\n                            },\n                \'correspondencia_archive.observaciones\':{\'label\':\'Observaciones\',\n                            \'class\':\'\', #class name of the header\n                            \'width\':\'20%\', #width in pixels or %\n                            \'truncate\': 50, #truncate the content to...\n                            \'selected\': False #agregate class selected to this column\n                            },\n                \'correspondencia_archive.id\':{\'label\':\'Acci\xc3\xb3n\',\n                            \'class\':\'\', #class name of the header\n                            \'width\':\'10%\', #width in pixels or %\n                            \'truncate\': 50, #truncate the content to...\n                            \'selected\': False, #agregate class selected to this column\n                            \'align\': \'center\'\n                            },\n           }\n    tabla = SQLTABLE(rows, headers = headers)\n    tabla_actual = SQLTABLE(rows_actual, truncate = 100)\n    return dict(table=tabla, tabla_actual =tabla_actual,id = id)\n    \n@auth.requires(auth.has_membership(\'recepcionista\') or auth.has_membership(\'master\') or auth.has_membership(\'supervisor\') or auth.has_membership(\'analista\'))\ndef listar_movimientos():\n    session.pag_previa = URL(\'listar_movimientos\') \n    links = None \n    fields = [db.correspondencia.nro_de_documento, db.correspondencia.tipo_de_documento,db.correspondencia.fecha_registro,\n              db.correspondencia.estatus,db.correspondencia.remitente,db.correspondencia.destinatario,db.correspondencia.asunto,]\n    orderby = [\'correspondencia.fecha_registro\',] \n    deletable = False\n    editable=True\n    details = True\n    create=True\n    documento = db(db.documento.tipo_de_documento=="movimiento").select(db.documento.id).first()\n    id_documento_movimiento = documento[\'id\']\n    query = (((db.correspondencia.registrado_por==auth.user.id) | (db.correspondencia.asignado_a==auth.user.id)) & (db.correspondencia.tipo_de_documento==id_documento_movimiento))\n    links = [lambda row: A(TAG[\'\'](SPAN(_class="icon icon-list"),SPAN(\'Hist\xc3\xb3rico\', _class="buttontext button", _title="Hist\xc3\xb3rico")), _class="w2p_trap button btn popup", _href=URL(\'ver_historico\', args=[row.id]))\n            ]\n    grid = SQLFORM.grid(query, fields = fields, selectable= lambda ids: reporte_entrega_movimiento(ids), user_signature=False, deletable=deletable, editable=editable, details = details,create=create, csv=False, orderby = orderby, links = links)\n    return dict(grid = grid)\n    \ndef reporte_entrega_movimiento(ids):\n    if not ids:\n        session.flash=\'No has seleccionado ninguna correspondencia\'\n    else: \n        #import gluon.contenttype\n        al_reporte=db(db.correspondencia.id.belongs(ids)).select(db.correspondencia.nro_de_documento, db.correspondencia.departamento_destino)\n        headers = {\'correspondencia.nro_de_documento\':{\'label\':\'Nro. Documento\',\n                       \'class\':\'\', #class name of the header\n                       \'width\':\'\', #width in pixels or %\n                       \'truncate\': 16, #truncate the content to...\n                       \'selected\': False #agregate class selected to this column\n                       },\n               \'correspondencia.departamento_destino\':{\'label\':\'Departamento Destino\',\n                            \'class\':\'\', #class name of the header\n                            \'width\':\'\', #width in pixels or %\n                            \'truncate\': 16, #truncate the content to...\n                            \'selected\': False #agregate class selected to this column\n                            },           \n           }\n        tabla_actual = SQLTABLE(al_reporte, truncate = 100, headers = headers)\n        session.reporte_movimiento = tabla_actual\n        session.flash="Reporte Generado"\n        #response.headers[\'Content-Type\']=gluon.contenttype.contenttype(\'.js\')\n        #return \'alert("alerta en javascript");\'\n        #response.render();\n        #session.flash=al_reporte[1]        \n\treturn ()\n\t\ndef reporte_entregas(ids):\n    if not ids:\n        session.flash=\'No has seleccionado ninguna correspondencia\'\n    else: \n        #import gluon.contenttype\n\tfrom time import strftime\n\tdb.correspondencia.fecha_correspondencia.represent = lambda value, row : value.strftime(\'%d-%m-%Y\')\n        al_reporte=db(db.correspondencia.id.belongs(ids)).select(db.correspondencia.nro_de_documento, \n                                                                 db.correspondencia.departamento_destino,\n\t\t\t\t\t\t\t\t db.correspondencia.asunto, \n                                                                 db.correspondencia.fecha_correspondencia)\n        headers = {\'correspondencia.nro_de_documento\':{\'label\':\'Nro. Documento\',\n                       \'class\':\'\', #class name of the header\n                       \'width\':\'\', #width in pixels or %\n                       \'truncate\': 30, #truncate the content to...\n                       \'selected\': False #agregate class selected to this column\n                       },\n               \'correspondencia.departamento_destino\':{\'label\':\'Departamento Destino\',\n                            \'class\':\'\', #class name of the header\n                            \'width\':\'\', #width in pixels or %\n                            \'truncate\': 40, #truncate the content to...\n                            \'selected\': False #agregate class selected to this column\n                            },\n\t       \'correspondencia.asunto\':{\'label\':\'Asunto\',\n\t\t\t    \'class\':\'\',\n\t\t\t    \'width\':\'\',\n\t\t\t    \'truncate\':40,\n\t\t\t    \'selected\': False,\n\t  },\n\t       \'correspondencia.fecha_correspondencia\':{ \'label\': \'Fecha\',\n\t\t\t    \'class\': \'\',\n                            \'width\':\'\',\n                            \'truncate\':20,\n                            \'selected\': False\n\t\t\t},\n           }        \n\ttabla_actual = SQLTABLE(al_reporte, truncate = 100, headers = headers)\n        session.reporte = tabla_actual\n        #response.headers[\'Content-Type\']=gluon.contenttype.contenttype(\'.js\')\n        #return \'alert("alerta en javascript");\'\n        #response.render();\n        #session.flash=al_reporte[1]        \n\treturn ()\n\ndef devolver_mes(mes):\n    if mes == 1:\n        mes= "enero"\n    elif mes == 2:\n        mes= "febrero"\n    elif mes == 3:\n        mes= "marzo"\n    elif mes == 4:\n        mes= "abril"\n    elif mes == 5:\n        mes= "mayo"\n    elif mes == 6:\n        mes= "junio"\n    elif mes == 7:\n        mes= "julio"\n    elif mes == 8:\n        mes= "agosto"\n    elif mes == 9:\n        mes= "septiembre"    \n    elif mes == 10:\n        mes= "octubre"\n    elif mes == 11:\n        mes= "noviembre"\n    else:\n        mes = "diciembre"\n    return mes\n    \ndef usuariosDepartamento():\n    options = [OPTION(t.first_name + " " + t.last_name,_value=t.id) for t in db(db.auth_user.departamento==auth.user.departamento).select(db.auth_user.id, db.auth_user.first_name, db.auth_user.last_name)]\n    options.insert(0, OPTION(_value=""))\n    usuarios = SELECT(*options, _name="asignado_a", _id="correspondencia_asignados", _class="generic-widget")\n    #usuarios = db(db.auth_user.departamento==auth.user.departamento).select(db.auth_user.id, db.auth_user.first_name, db.auth_user.last_name)\n    return usuarios\n\ndef corregirBusquedas():\n    if (request.vars[\'keywords\']) and (\'correspondencia.tipo_de_documento =\' in request.vars[\'keywords\']):\n        documento = request.vars[\'keywords\'].split(\'= "\')[1].split(\'"\')[0]\n        id_tipodocumento = buscarTipoDocumento(documento)\n        if id_tipodocumento:\n            request.vars[\'keywords\'] = \'correspondencia.tipo_de_documento = "\' + id_tipodocumento + \'"\'\n        else:\n            request.vars[\'keywords\'] = \'correspondencia.tipo_de_documento = "0"\'\n    if (request.vars[\'keywords\']) and (\'correspondencia.estatus =\' in request.vars[\'keywords\']):\n        estatus = request.vars[\'keywords\'].split(\'= "\')[1].split(\'"\')[0]\n        id_estatus = buscarEstatus(estatus)\n        if id_estatus:\n            request.vars[\'keywords\'] = \'correspondencia.estatus = "\' + id_estatus + \'"\'\n        else:\n            request.vars[\'keywords\'] = \'correspondencia.estatus = "0"\'\n    if (request.vars[\'keywords\']) and (\'correspondencia.asignado_a =\' in request.vars[\'keywords\']):\n        usuario = request.vars[\'keywords\'].split(\'= "\')[1].split(\'"\')[0]\n        id_usuario = buscarUsuario(usuario)\n        if id_usuario:\n            request.vars[\'keywords\'] = \'correspondencia.asignado_a = "\' + id_usuario + \'"\'\n        else:\n            request.vars[\'keywords\'] = \'correspondencia.asignado_a = "0"\'\n    if (request.vars[\'keywords\']) and (\'correspondencia.departamento_origen =\' in request.vars[\'keywords\']):\n        departamento = request.vars[\'keywords\'].split(\'= "\')[1].split(\'"\')[0]\n        id_departamento = buscarDepartamento(departamento)\n        if id_departamento:\n            request.vars[\'keywords\'] = \'correspondencia.departamento_origen = "\' + id_departamento + \'"\'\n        else:\n            request.vars[\'keywords\'] = \'correspondencia.departamento_origen = "0"\'\n    if (request.vars[\'keywords\']) and (\'correspondencia.departamento_destino =\' in request.vars[\'keywords\']):\n        departamento = request.vars[\'keywords\'].split(\'= "\')[1].split(\'"\')[0]\n        id_departamento = buscarDepartamento(departamento)\n        if id_departamento:\n            request.vars[\'keywords\'] = \'correspondencia.departamento_destino = "\' + id_departamento + \'"\'\n        else:\n            request.vars[\'keywords\'] = \'correspondencia.departamento_destino = "0"\'\n    return None\n\ndef buscarTipoDocumento(tipodocumento):\n    busqueda = "%" + tipodocumento + "%"\n    try:\n        id_tipodocumento = db(db.documento.tipo_de_documento.like(busqueda)).select(db.documento.id).first()\n        if id_tipodocumento:\n            return str(id_tipodocumento[\'id\'])\n    except:\n        return None\n    \ndef buscarEstatus(estatus):\n    busqueda = "%" + estatus + "%"\n    try:\n        id_estatus = db(db.estatus.tipo_estatus.like(busqueda)).select(db.estatus.id).first()\n        if id_estatus:\n            return str(id_estatus[\'id\'])\n    except:\n        return None\n    \ndef buscarUsuario(usuario):\n    busqueda = "%" + usuario + "%"\n    try:\n        id_usuario = db((db.auth_user.first_name.like(busqueda)) | (db.auth_user.last_name.like(busqueda))).select(db.auth_user.id).first()\n        if id_usuario:\n            return str(id_usuario[\'id\'])\n    except:\n        return None\n    \ndef buscarDepartamento(departamento):\n    busqueda = "%" + departamento + "%"\n    try:\n        id_departamento = db(db.departamento.departamento.like(busqueda)).select(db.departamento.id).first()\n        if id_departamento:\n            return str(id_departamento[\'id\'])\n    except:\n        return None\n    \ndef correspondenciasDependencia():\n    session.documento = \'\'\n    session.dependencia = \'\'\n    form = SQLFORM.factory(Field(\'documento\',label = \'Tipo de Documento\', requires= IS_IN_DB(db, db.documento.id, \'%(tipo_de_documento)s\', \n                                                                                             zero =\'Seleccione un tipo de documento\')),\n                           Field(\'dependencia\', requires= IS_IN_DB(db, db.dependencia.id, \'%(dependencia)s\',\n                                                                   zero =\'Seleccione una dependencia\')),\n                           submit_button=\'Enviar\')\n    #form = SQLFORM.factory(db.documento, db.dependencia)\n    if form.process().accepted:\n        session.documento = form.vars.documento\n        session.dependencia = form.vars.dependencia\n        redirect(URL(\'/agregarCorrespondenciaMultiple\'))\n    else:\n        session.flash=\'Ha ocurrido un error\'\n    return dict(form = form)\n    \ndef agregarCorrespondenciaMultiple():\n    request_fields = request.vars.fields or \'default\'\n\n################################ The core ######################################\n    # Specify structured fields for the multi-line form layout.\n    # A "None" indicates an empty line over which the precedent line spans\n    if request_fields == \'default\':\n        fields = [\n                  [\'nro_de_documento\', \'fecha_correspondencia\'],\n                  [\'tipo_de_documento\', \'estatus\'],\n                  \'asunto\',\n                  [None, None],\n                  [\'remitente\', \'destinatario\'],\n                  [None, \'observaciones\'],\n                  ]\n    form = SOLIDFORM(db.correspondencia, fields=fields, tabla = auth.archive)\n    if form.process(onsuccess=auth.archive).accepted:\n        db.rollback()\n        usuario = db(db.auth_user.departamento==auth.user.departamento).select(db.auth_user.departamento).first()\n        departamentoUsuario = db(db.departamento.id==usuario[\'departamento\']).select(db.departamento.id).first()\n        documento = db(db.documento.id==session.documento).select(db.documento.tipo_de_documento).first()\n        dependencia = db(db.dependencia.id==session.dependencia).select(db.dependencia.id).first()\n        departamentos = db(db.departamento.dependencia==session.dependencia).select(db.departamento.id)\n        db.correspondencia.destinatario.readable = False\n        db.correspondencia.destinatario.writable = False\n        for departamento in departamentos:\n            if departamentoUsuario[\'id\'] == departamento[\'id\']:\n                continue\n            else:\n                db.correspondencia.insert(nro_de_documento = form.vars.nro_de_documento, fecha_correspondencia = form.vars.fecha_correspondencia,\n                                      tipo_de_documento = form.vars.tipo_de_documento, estatus = form.vars.estatus,\n                                      remitente = form.vars.remitente, departamento_origen = departamentoUsuario[\'id\'],\n                                      destinatario = form.vars.destinatario, departamento_destino = departamento[\'id\'],\n                                      asunto = form.vars.asunto, observaciones = form.vars.observaciones )\n        \n        session.flash = \'Han sido registrado los documento con \xc3\xa9xito\'\n        redirect(URL(\'/listar_correspondencias\'))\n    style = STYLE("""input[type="text"], textarea {width:100%; max-height: 50px;}\n                     .w2p_fw {padding-right: 10px; max-width:100%;}\n                     .w2p_fl {background: #eee;}\n                     .string {max-width: 300px;}\n                     .date {max-width: 80px;}""")\n    return dict(form=DIV(style, form),\n                #form__factory=form_factory, form__readonly=form_readonly, form__edit=form_edit,\n                form_args=DIV(A(\'fields=default\', _href=URL(vars={\'fields\': \'default\'})), \' \',\n                               ))\n\ndef agregarCorrespondenciaMultiple2():\n    options = [OPTION(t.first_name + " " + t.last_name,_value=t.id) for t in db(db.auth_user.departamento).select(db.auth_user.id, db.auth_user.first_name, db.auth_user.last_name)]\n    usuarios = SELECT(*options, _name="usuarios", _class="chzn-select", _multiple=\'\', _style="width:400px")\n    error = \'\'\n    if request.vars[\'formcc\'] and request.vars[\'usuarios\']:\n        usuarios = request.vars[\'usuarios\']\n        id_correspondencia = request.args(0)\n        correspondencia = db.correspondencia[id_correspondencia]  \n        for usuario in usuarios:\n            usuario = int(usuario)\n            registro_usuario = db(db.auth_user.id==usuario).select(db.auth_user.departamento).first()\n            correspondencia_nueva = db.correspondencia.insert(**db.correspondencia._filter_fields(correspondencia))\n            correspondencia_nueva.update_record(fecha_registro = request.now, asignado_a = usuario,\n                                                registrado_por = auth.user.id, modificado_por = auth.user.id,\n                                                departamento_destino = registro_usuario[\'departamento\'],\n                                                modificado_el = request.now)\n        session.flash = \'Copias creadas con \xc3\xa9xito\'\n        redirect(URL(\'/listar_correspondencias\'))\n    if request.vars[\'formcc\'] and not request.vars[\'usuarios\']:\n        error = DIV(\'Seleccione al menos un usuario\', _class="error", _style="display: inline-block; ")\n        print request.vars[\'usuarios\']\n    \n    return dict(usuarios = usuarios, error = error)\n\ndef ver_actual():\n    try:\n        id_registro = request.args(0)\n        rows = db(db.correspondencia.id==id_registro).select(db.correspondencia.modificado_el,\n                                                                                 db.correspondencia.modificado_por,\n                                                                                 db.correspondencia.nro_de_documento,\n                                                                                 db.correspondencia.tipo_de_documento,\n                                                                                 db.estatus.tipo_estatus, \n                                                                                 db.correspondencia.remitente,\n                                                                                 db.correspondencia.departamento_origen,\n                                                                                 db.correspondencia.destinatario,\n                                                                                 db.correspondencia.departamento_destino,\n                                                                                 db.correspondencia.asunto,\n                                                                                 db.correspondencia.observaciones,\n                                                                         left=[db.estatus.on(db.estatus.id==db.correspondencia.estatus)])\n    \n        headers = {\'correspondencia.modificado_el\':{\'label\':\'Modificado el\',\n                           \'class\':\'\', #class name of the header\n                           \'width\':\'\', #width in pixels or %\n                           \'truncate\': 16, #truncate the content to...\n                           \'selected\': False #agregate class selected to this column\n                           },\n                   \'correspondencia.modificado_por\':{\'label\':\'Modificado por\',\n                                \'class\':\'\', #class name of the header\n                                \'width\':\'\', #width in pixels or %\n                                \'truncate\': 16, #truncate the content to...\n                                \'selected\': False #agregate class selected to this column\n                                },\n                   \'correspondencia.nro_de_documento\':{\'label\':\'Nro Documento\',\n                                \'class\':\'\', #class name of the header\n                                \'width\':\'\', #width in pixels or %\n                                \'truncate\': 16, #truncate the content to...\n                                \'selected\': False #agregate class selected to this column\n                                },\n                   \'correspondencia.tipo_de_documento\':{\'label\':\'Tipo Documento\',\n                                \'class\':\'\', #class name of the header\n                                \'width\':\'\', #width in pixels or %\n                                \'truncate\': 16, #truncate the content to...\n                                \'selected\': False #agregate class selected to this column\n                                },\n                   \'estatus.tipo_estatus\':{\'label\':\'Estatus\',\n                                \'class\':\'\', #class name of the header\n                                \'width\':\'\', #width in pixels or %\n                                \'truncate\': 16, #truncate the content to...\n                                \'selected\': False #agregate class selected to this column\n                                },\n                   \'correspondencia.remitente\':{\'label\':\'Remitente\',\n                                \'class\':\'\', #class name of the header\n                                \'width\':\'\', #width in pixels or %\n                                \'truncate\': 50, #truncate the content to...\n                                \'selected\': False #agregate class selected to this column\n                                },\n                   \'correspondencia.departamento_origen\':{\'label\':\'Dpto. Origen\',\n                                \'class\':\'\', #class name of the header\n                                \'width\':\'\', #width in pixels or %\n                                \'truncate\': 16, #truncate the content to...\n                                \'selected\': False #agregate class selected to this column\n                                },\n                   \'correspondencia.destinatario\':{\'label\':\'Destinatario\',\n                                \'class\':\'\', #class name of the header\n                                \'width\':\'\', #width in pixels or %\n                                \'truncate\': 60, #truncate the content to...\n                                \'selected\': False #agregate class selected to this column\n                                },\n                   \'correspondencia.departamento_destino\':{\'label\':\'Depto. Destino\',\n                                \'class\':\'\', #class name of the header\n                                \'width\':\'\', #width in pixels or %\n                                \'truncate\': 16, #truncate the content to...\n                                \'selected\': False #agregate class selected to this column\n                                },\n                    \'correspondencia.asunto\':{\'label\':\'Asunto\',\n                                \'class\':\'\', #class name of the header\n                                \'width\':\'15%\', #width in pixels or %\n                                \'truncate\': 50, #truncate the content to...\n                                \'selected\': False #agregate class selected to this column\n                                },\n                    \'correspondencia.observaciones\':{\'label\':\'Observaciones\',\n                                \'class\':\'\', #class name of the header\n                                \'width\':\'20%\', #width in pixels or %\n                                \'truncate\': 50, #truncate the content to...\n                                \'selected\': False #agregate class selected to this column\n                                },\n               }\n        tabla_actual = SQLTABLE(rows, headers = headers)\n        return dict(tabla_actual = tabla_actual)\n    except:\n        return dict()\n\nresponse._vars=response._caller(agregarCorrespondenciaMultiple2)\n'
p7
sS'snapshot'
p8
(dp9
S'exception'
p10
(dp11
S'__hash__'
p12
S"<method-wrapper '__hash__' of exceptions.TypeError object>"
p13
sS'__setattr__'
p14
S"<method-wrapper '__setattr__' of exceptions.TypeError object>"
p15
sS'__reduce_ex__'
p16
S'<built-in method __reduce_ex__ of exceptions.TypeError object>'
p17
sS'__getslice__'
p18
S"<method-wrapper '__getslice__' of exceptions.TypeError object>"
p19
sS'__getitem__'
p20
S"<method-wrapper '__getitem__' of exceptions.TypeError object>"
p21
sS'__setstate__'
p22
S'<built-in method __setstate__ of exceptions.TypeError object>'
p23
sS'__reduce__'
p24
S'<built-in method __reduce__ of exceptions.TypeError object>'
p25
sS'__str__'
p26
S"<method-wrapper '__str__' of exceptions.TypeError object>"
p27
sS'__format__'
p28
S'<built-in method __format__ of exceptions.TypeError object>'
p29
sS'__getattribute__'
p30
S"<method-wrapper '__getattribute__' of exceptions.TypeError object>"
p31
sS'__class__'
p32
S"<type 'exceptions.TypeError'>"
p33
sS'__unicode__'
p34
S'<built-in method __unicode__ of exceptions.TypeError object>'
p35
sS'__delattr__'
p36
S"<method-wrapper '__delattr__' of exceptions.TypeError object>"
p37
sS'__subclasshook__'
p38
S'<built-in method __subclasshook__ of type object>'
p39
sS'__repr__'
p40
S"<method-wrapper '__repr__' of exceptions.TypeError object>"
p41
sS'args'
p42
S'("\'NoneType\' object is not callable",)'
p43
sS'__dict__'
p44
S'{}'
p45
sS'__sizeof__'
p46
S'<built-in method __sizeof__ of exceptions.TypeError object>'
p47
sS'__doc__'
p48
S"'Inappropriate argument type.'"
p49
sS'__init__'
p50
S"<method-wrapper '__init__' of exceptions.TypeError object>"
p51
sS'__new__'
p52
S'<built-in method __new__ of type object>'
p53
ssS'evalue'
p54
S"'NoneType' object is not callable"
p55
sS'request'
p56
cgluon.html
XML_unpickle
p57
(S's}K\x00\x00<div><table><tr><td style="font-weight:bold;vertical-align:top;">ajax</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">application</td><td style="vertical-align:top;">:</td><td><div>sicoin</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">args</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>1426</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cid</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">client</td><td style="vertical-align:top;">:</td><td><div>190.169.221.18</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">controller</td><td style="vertical-align:top;">:</td><td><div>correspondencia</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cookies</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">session_id_sicoin</td><td style="vertical-align:top;">:</td><td><div>190.169.221.18-d1ea2370-eec6-44bb-b275-b75f2d715f4e<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">env</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">CONTENT_LENGTH</td><td style="vertical-align:top;">:</td><td><div>249</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">CONTENT_TYPE</td><td style="vertical-align:top;">:</td><td><div>multipart/form-data; boundary=---------------------------24464570528145</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">DOCUMENT_ROOT</td><td style="vertical-align:top;">:</td><td><div>/usr/share/nginx/html</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_ACCEPT</td><td style="vertical-align:top;">:</td><td><div>text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_ACCEPT_ENCODING</td><td style="vertical-align:top;">:</td><td><div>gzip, deflate</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_ACCEPT_LANGUAGE</td><td style="vertical-align:top;">:</td><td><div>es-es,es;q=0.8,en-us;q=0.5,en;q=0.3</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_CONNECTION</td><td style="vertical-align:top;">:</td><td><div>keep-alive</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_CONTENT_LENGTH</td><td style="vertical-align:top;">:</td><td><div>249</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_CONTENT_TYPE</td><td style="vertical-align:top;">:</td><td><div>multipart/form-data; boundary=---------------------------24464570528145</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_COOKIE</td><td style="vertical-align:top;">:</td><td><div>session_id_sicoin=190.169.221.18-d1ea2370-eec6-44bb-b275-b75f2d715f4e</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_HOST</td><td style="vertical-align:top;">:</td><td><div>190.169.221.33:8000</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_REFERER</td><td style="vertical-align:top;">:</td><td><div>http://190.169.221.33:8000/sicoin/correspondencia/agregarCorrespondenciaMultiple2/1426</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_USER_AGENT</td><td style="vertical-align:top;">:</td><td><div>Mozilla/5.0 (Windows NT 6.0; rv:10.0) Gecko/20100101 Firefox/10.0</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">PATH_INFO</td><td style="vertical-align:top;">:</td><td><div>/sicoin/correspondencia/agregarCorrespondenciaMultiple2/1426</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">QUERY_STRING</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">REMOTE_ADDR</td><td style="vertical-align:top;">:</td><td><div>190.169.221.18</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">REMOTE_PORT</td><td style="vertical-align:top;">:</td><td><div>49670</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">REQUEST_METHOD</td><td style="vertical-align:top;">:</td><td><div>POST</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">REQUEST_URI</td><td style="vertical-align:top;">:</td><td><div>/sicoin/correspondencia/agregarCorrespondenciaMultiple2/1426</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_NAME</td><td style="vertical-align:top;">:</td><td><div>fipu</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_PORT</td><td style="vertical-align:top;">:</td><td><div>8000</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_PROTOCOL</td><td style="vertical-align:top;">:</td><td><div>HTTP/1.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_SOFTWARE</td><td style="vertical-align:top;">:</td><td><div>nginx/1.4.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">UWSGI_SCHEME</td><td style="vertical-align:top;">:</td><td><div>http</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">app_folders</td><td style="vertical-align:top;">:</td><td><div>set([&#x27;/home/www-data/web2py/applications/sicoin/&#x27;])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">applications_parent</td><td style="vertical-align:top;">:</td><td><div>/home/www-data/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">content_length</td><td style="vertical-align:top;">:</td><td><div>249</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">content_type</td><td style="vertical-align:top;">:</td><td><div>multipart/form-data; boundary=---------------------------24464570528145</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">db_sessions</td><td style="vertical-align:top;">:</td><td><div>set([])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">debugging</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">document_root</td><td style="vertical-align:top;">:</td><td><div>/usr/share/nginx/html</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">gluon_parent</td><td style="vertical-align:top;">:</td><td><div>/home/www-data/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_accept</td><td style="vertical-align:top;">:</td><td><div>text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_accept_encoding</td><td style="vertical-align:top;">:</td><td><div>gzip, deflate</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_accept_language</td><td style="vertical-align:top;">:</td><td><div>es-es,es;q=0.8,en-us;q=0.5,en;q=0.3</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_connection</td><td style="vertical-align:top;">:</td><td><div>keep-alive</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_content_length</td><td style="vertical-align:top;">:</td><td><div>249</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_content_type</td><td style="vertical-align:top;">:</td><td><div>multipart/form-data; boundary=---------------------------24464570528145</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_cookie</td><td style="vertical-align:top;">:</td><td><div>session_id_sicoin=190.169.221.18-d1ea2370-eec6-44bb-b275-b75f2d715f4e</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_host</td><td style="vertical-align:top;">:</td><td><div>190.169.221.33:8000</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_referer</td><td style="vertical-align:top;">:</td><td><div>http://190.169.221.33:8000/sicoin/correspondencia/agregarCorrespondenciaMultiple2/1426</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_user_agent</td><td style="vertical-align:top;">:</td><td><div>Mozilla/5.0 (Windows NT 6.0; rv:10.0) Gecko/20100101 Firefox/10.0</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_jython</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_pypy</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_source</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">local_hosts</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>fipu.ucv.ve</div></td></tr><tr><td><div>::ffff:127.0.0.1</div></td></tr><tr><td><div>::1</div></td></tr><tr><td><div>fipu</div></td></tr><tr><td><div>190.169.221.33</div></td></tr><tr><td><div>127.0.0.1</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path_info</td><td style="vertical-align:top;">:</td><td><div>/sicoin/correspondencia/agregarCorrespondenciaMultiple2/1426</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">query_string</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">remote_addr</td><td style="vertical-align:top;">:</td><td><div>190.169.221.18</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">remote_port</td><td style="vertical-align:top;">:</td><td><div>49670</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">request_method</td><td style="vertical-align:top;">:</td><td><div>POST</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">request_uri</td><td style="vertical-align:top;">:</td><td><div>/sicoin/correspondencia/agregarCorrespondenciaMultiple2/1426</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_name</td><td style="vertical-align:top;">:</td><td><div>fipu</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_port</td><td style="vertical-align:top;">:</td><td><div>8000</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_protocol</td><td style="vertical-align:top;">:</td><td><div>HTTP/1.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_software</td><td style="vertical-align:top;">:</td><td><div>nginx/1.4.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">uwsgi.node</td><td style="vertical-align:top;">:</td><td><div>fipu</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">uwsgi.version</td><td style="vertical-align:top;">:</td><td><div>1.0.4-ubuntu-uwsgimaintppa-lucid</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">uwsgi_node</td><td style="vertical-align:top;">:</td><td><div>fipu</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">uwsgi_scheme</td><td style="vertical-align:top;">:</td><td><div>http</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">uwsgi_version</td><td style="vertical-align:top;">:</td><td><div>1.0.4-ubuntu-uwsgimaintppa-lucid</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">web2py_path</td><td style="vertical-align:top;">:</td><td><div>/home/www-data/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">web2py_version</td><td style="vertical-align:top;">:</td><td><div>2.6.4-stable+timestamp.2013.09.22.01.43.37</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.errors</td><td style="vertical-align:top;">:</td><td><div>&lt;open file &#x27;wsgi_errors&#x27;, mode &#x27;w&#x27; at 0xa764cd8&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.file_wrapper</td><td style="vertical-align:top;">:</td><td><div>&lt;built-in function uwsgi_sendfile&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.input</td><td style="vertical-align:top;">:</td><td><div>&lt;uwsgi._Input object at 0xa7ff130&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.multiprocess</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.multithread</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.run_once</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.url_scheme</td><td style="vertical-align:top;">:</td><td><div>http</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.version</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>1</div></td></tr><tr><td><div>0</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_errors</td><td style="vertical-align:top;">:</td><td><div>&lt;open file &#x27;wsgi_errors&#x27;, mode &#x27;w&#x27; at 0xa764cd8&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_file_wrapper</td><td style="vertical-align:top;">:</td><td><div>&lt;built-in function uwsgi_sendfile&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_input</td><td style="vertical-align:top;">:</td><td><div>&lt;uwsgi._Input object at 0xa7ff130&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_multiprocess</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_multithread</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_run_once</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_url_scheme</td><td style="vertical-align:top;">:</td><td><div>http</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_version</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>1</div></td></tr><tr><td><div>0</div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">extension</td><td style="vertical-align:top;">:</td><td><div>html</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">folder</td><td style="vertical-align:top;">:</td><td><div>/home/www-data/web2py/applications/sicoin/</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">function</td><td style="vertical-align:top;">:</td><td><div>agregarCorrespondenciaMultiple2</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">global_settings</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">app_folders</td><td style="vertical-align:top;">:</td><td><div>set([&#x27;/home/www-data/web2py/applications/sicoin/&#x27;])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">applications_parent</td><td style="vertical-align:top;">:</td><td><div>/home/www-data/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">db_sessions</td><td style="vertical-align:top;">:</td><td><div>set([])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">debugging</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">gluon_parent</td><td style="vertical-align:top;">:</td><td><div>/home/www-data/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_jython</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_pypy</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_source</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">local_hosts</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>fipu.ucv.ve</div></td></tr><tr><td><div>::ffff:127.0.0.1</div></td></tr><tr><td><div>::1</div></td></tr><tr><td><div>fipu</div></td></tr><tr><td><div>190.169.221.33</div></td></tr><tr><td><div>127.0.0.1</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">web2py_version</td><td style="vertical-align:top;">:</td><td><div>2.6.4-stable+timestamp.2013.09.22.01.43.37</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_https</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_local</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_restful</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">now</td><td style="vertical-align:top;">:</td><td><div>datetime.datetime(2013, 10, 8, 10, 38, 54, 731908)</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">raw_args</td><td style="vertical-align:top;">:</td><td><div>1426</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">raw_extension</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">url</td><td style="vertical-align:top;">:</td><td><div>/sicoin/correspondencia/agregarCorrespondenciaMultiple2/1426</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">utcnow</td><td style="vertical-align:top;">:</td><td><div>datetime.datetime(2013, 10, 8, 15, 8, 54, 731932)</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">uuid</td><td style="vertical-align:top;">:</td><td><div>sicoin/190.169.221.18.2013-10-08.10-38-54.5b9d5487-a86c-4521-8bb8-d59722f7c7f2</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi</td><td style="vertical-align:top;">:</td><td><div>&lt;gluon.main.LazyWSGI object at 0xa9feecc&gt;</div></td></tr></table></div>'
tRp58
sS'frames'
p59
(lp60
(dp61
S'file'
p62
S'/home/www-data/web2py/gluon/restricted.py'
p63
sS'dump'
p64
(dp65
S'environment'
p66
S"{'A': <class 'gluon.html.A'>, 'ANY_OF': <class 'gluon.validators.ANY_OF'>, 'Auth': <class 'gluon.tools.Auth'>, 'B': <class 'gluon.html.B'>, 'BEAUTIFY': <class 'gluon.html.BEAUTIFY'>, 'BODY': <class 'gluon.html.BODY'>, 'BR': <class 'gluon.html.BR'>, 'BUTTON': <class 'gluon.html.BUTTON'>, 'CAT': <class 'gluon.html.CAT'>, 'CENTER': <class 'gluon.html.CENTER'>, ...}"
p67
sS'ccode'
p68
S'<code object <module> at 0xa77e920, file "/home/...s/sicoin/controllers/correspondencia.py", line 2>'
p69
ssS'lnum'
p70
I217
sS'lines'
p71
(dp72
I212
S'    try:'
p73
sI213
S'        if isinstance(code, types.CodeType):'
p74
sI214
S'            ccode = code'
p75
sI215
S'        else:'
p76
sI216
S'            ccode = compile2(code, layer)'
p77
sI217
S'        exec ccode in environment'
p78
sI218
S'    except HTTP:'
p79
sI219
S'        raise'
p80
sI220
S'    except RestrictedError:'
p81
sI221
S'        # do not encapsulate (obfuscate) the original RestrictedError'
p82
ssS'call'
p83
S'(code="# coding: utf8\\nT.force(\'es\')\\nfrom plugin_solidfo...esponse._caller(agregarCorrespondenciaMultiple2)\\n", environment={\'A\': <class \'gluon.html.A\'>, \'ANY_OF\': <class \'gluon.validators.ANY_OF\'>, \'Auth\': <class \'gluon.tools.Auth\'>, \'B\': <class \'gluon.html.B\'>, \'BEAUTIFY\': <class \'gluon.html.BEAUTIFY\'>, \'BODY\': <class \'gluon.html.BODY\'>, \'BR\': <class \'gluon.html.BR\'>, \'BUTTON\': <class \'gluon.html.BUTTON\'>, \'CAT\': <class \'gluon.html.CAT\'>, \'CENTER\': <class \'gluon.html.CENTER\'>, ...}, layer=\'/home/www-data/web2py/applications/sicoin/controllers/correspondencia.py\')'
p84
sS'func'
p85
S'restricted'
p86
sa(dp87
g62
S'/home/www-data/web2py/applications/sicoin/controllers/correspondencia.py'
p88
sg64
(dp89
sg70
I827
sg71
(dp90
I816
S"                                'class':'', #class name of the header"
p91
sI817
S"                                'width':'20%', #width in pixels or %"
p92
sI818
S"                                'truncate': 50, #truncate the content to..."
p93
sI819
S"                                'selected': False #agregate class selected to this column"
p94
sI820
S'                                },'
p95
sI821
S'               }'
p96
sI822
S'        tabla_actual = SQLTABLE(rows, headers = headers)'
p97
sI823
S'        return dict(tabla_actual = tabla_actual)'
p98
sI824
S'    except:'
p99
sI825
S'        return dict()'
p100
ssg83
S'()'
p101
sg85
S'<module>'
p102
sa(dp103
g62
S'/home/www-data/web2py/gluon/globals.py'
p104
sg64
(dp105
S'self'
p106
S'undefined'
p107
sS'f'
S'<function agregarCorrespondenciaMultiple2>'
p108
ssg70
I371
sg71
(dp109
I366
S'        self.menu = []             # used by the default view layout'
p110
sI367
S'        self.files = []            # used by web2py_ajax.html'
p111
sI368
S'        self.generic_patterns = []  # patterns to allow generic views'
p112
sI369
S"        self.delimiters = ('{{', '}}')"
p113
sI370
S'        self._vars = None'
p114
sI371
S'        self._caller = lambda f: f()'
p115
sI372
S'        self._view_environment = None'
p116
sI373
S'        self._custom_commit = None'
p117
sI374
S'        self._custom_rollback = None'
p118
sI375
S''
ssg83
S'(f=<function agregarCorrespondenciaMultiple2>)'
p119
sg85
S'<lambda>'
p120
sa(dp121
g62
S'/home/www-data/web2py/applications/sicoin/controllers/correspondencia.py'
p122
sg64
(dp123
S'global request'
p124
S"<Storage {'_vars': <Storage {'formcc': 'cliente'...': '/home/www-data/web2py/applications/sicoin/'}>"
p125
sS'request.now'
p126
S'datetime.datetime(2013, 10, 8, 10, 38, 54, 731908)'
p127
sS'modificado_el'
p128
g107
ssg70
I730
sg71
(dp129
I725
S'            registro_usuario = db(db.auth_user.id==usuario).select(db.auth_user.departamento).first()'
p130
sI726
S'            correspondencia_nueva = db.correspondencia.insert(**db.correspondencia._filter_fields(correspondencia))'
p131
sI727
S'            correspondencia_nueva.update_record(fecha_registro = request.now, asignado_a = usuario,'
p132
sI728
S'                                                registrado_por = auth.user.id, modificado_por = auth.user.id,'
p133
sI729
S"                                                departamento_destino = registro_usuario['departamento'],"
p134
sI730
S'                                                modificado_el = request.now)'
p135
sI731
S"        session.flash = 'Copias creadas con \xc3\xa9xito'"
p136
sI732
S"        redirect(URL('/listar_correspondencias'))"
p137
sI733
S"    if request.vars['formcc'] and not request.vars['usuarios']:"
p138
sI734
S'        error = DIV(\'Seleccione al menos un usuario\', _class="error", _style="display: inline-block; ")'
p139
ssg83
S'()'
p140
sg85
S'agregarCorrespondenciaMultiple2'
p141
sasS'pyver'
p142
S'Python 2.6.5: /usr/bin/uwsgi-python2.6 (prefix: /usr)'
p143
sS'session'
p144
g57
(S's\xe0\x0b\x00\x00<div><table><tr><td style="font-weight:bold;vertical-align:top;">auth</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">expiration</td><td style="vertical-align:top;">:</td><td><div>3600</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">hmac_key</td><td style="vertical-align:top;">:</td><td><div>a76c1fb2-abb9-44d4-8901-7068714bb9d0</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">last_visit</td><td style="vertical-align:top;">:</td><td><div>datetime.datetime(2013, 10, 8, 10, 34, 4, 37805)</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">remember</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">user</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">departamento</td><td style="vertical-align:top;">:</td><td><div>3L</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">email</td><td style="vertical-align:top;">:</td><td><div>erikajaimes22@hotmail.com</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">first_name</td><td style="vertical-align:top;">:</td><td><div>Erika</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">id</td><td style="vertical-align:top;">:</td><td><div>26L</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">last_name</td><td style="vertical-align:top;">:</td><td><div>Jaimes</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">registration_id</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">registration_key</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">reset_password_key</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">user_groups</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">7</td><td style="vertical-align:top;">:</td><td><div>recepcionista</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">30</td><td style="vertical-align:top;">:</td><td><div>user_26</div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">flash</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">pag_editar</td><td style="vertical-align:top;">:</td><td><div>/sicoin/correspondencia/editar_correspondencia</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">pag_previa</td><td style="vertical-align:top;">:</td><td><div>/sicoin/correspondencia/listar_correspondencias</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">reporte</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div>'
tRp145
sS'etype'
p146
S"<type 'exceptions.TypeError'>"
p147
sS'date'
p148
S'Tue Oct  8 10:38:54 2013'
p149
sS'response'
p150
g57
(S's\x01\x1e\x00\x00<div><table><tr><td style="font-weight:bold;vertical-align:top;">body</td><td style="vertical-align:top;">:</td><td><div>&lt;cStringIO.StringO object at 0xa9fedc0&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cookies</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">session_id_sicoin</td><td style="vertical-align:top;">:</td><td><div>190.169.221.18-d1ea2370-eec6-44bb-b275-b75f2d715f4e<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div>/</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">delimiters</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>{{</div></td></tr><tr><td><div>}}</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">files</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">flash</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">generic_patterns</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">headers</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">X-Powered-By</td><td style="vertical-align:top;">:</td><td><div>web2py</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">menu</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div><table><tr><td><div>Inicio</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/sicoin/default/index</div></td></tr><tr><td><div><table></table></div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Correspondencias</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>None</div></td></tr><tr><td><div><table><tr><td><div><table><tr><td><div>Correspondencias</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/sicoin/correspondencia/listar_correspondencias</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Correspondencias del Departamento</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/sicoin/correspondencia/listar_correspondencias_departamento</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Registro de Correspondencias Multiples</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/sicoin/correspondencia/correspondenciasDependencia</div></td></tr></table></div></td></tr></table></div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">meta</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">author</td><td style="vertical-align:top;">:</td><td><div>TIC - FIPU &lt;perdomor@ucv.ve&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">description</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">keywords</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">models_to_run</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>^\\w+\\.py$</div></td></tr><tr><td><div>^correspondencia/\\w+\\.py$</div></td></tr><tr><td><div>^correspondencia/agregarCorrespondenciaMultiple2/\\w+\\.py$</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">postprocessing</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_client</td><td style="vertical-align:top;">:</td><td><div>190.169.221.18</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_cookie_compression_level</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_cookie_expires</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_cookie_key</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_data_name</td><td style="vertical-align:top;">:</td><td><div>session_data_sicoin</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_file</td><td style="vertical-align:top;">:</td><td><div>&lt;open file &#x27;/home/www-data/web2py/applications/sicoin/sessions/190.169.221.18-d1ea2370-eec6-44bb-b275-b75f2d715f4e&#x27;, mode &#x27;rb+&#x27; at 0xa764390&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_filename</td><td style="vertical-align:top;">:</td><td><div>/home/www-data/web2py/applications/sicoin/sessions/190.169.221.18-d1ea2370-eec6-44bb-b275-b75f2d715f4e</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_hash</td><td style="vertical-align:top;">:</td><td><div>f2f8d7fd51446a23577c3c872e7d4eba</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id</td><td style="vertical-align:top;">:</td><td><div>190.169.221.18-d1ea2370-eec6-44bb-b275-b75f2d715f4e</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id_name</td><td style="vertical-align:top;">:</td><td><div>session_id_sicoin</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_locked</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_masterapp</td><td style="vertical-align:top;">:</td><td><div>sicoin</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_new</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_storage_type</td><td style="vertical-align:top;">:</td><td><div>file</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">status</td><td style="vertical-align:top;">:</td><td><div>200</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">subtitle</td><td style="vertical-align:top;">:</td><td><div>Sistema Integrado de Correspondencia Interna</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">title</td><td style="vertical-align:top;">:</td><td><div>SiCoIn</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">view</td><td style="vertical-align:top;">:</td><td><div>correspondencia/agregarCorrespondenciaMultiple2.html</div></td></tr></table></div>'
tRp151
sS'locals'
p152
(dp153
S'id_correspondencia'
p154
S"'1426'"
p155
sS'usuario'
p156
S'6'
sS'correspondencia'
p157
S"<Row {'departamento_origen': 3L, 'estatus': 2L, ...UESTARIO CONTABLE ', 'departamento_destino': 1L}>"
p158
sS'correspondencia_nueva'
p159
S'1427L'
p160
sS't'
S"<Row {'first_name': 'Suyin', 'last_name': 'Perdomo', 'id': 41L}>"
p161
sS'error'
p162
S"''"
p163
sS'usuarios'
p164
S"'6'"
p165
sS'options'
p166
S'[<gluon.html.OPTION object>, <gluon.html.OPTION object>, <gluon.html.OPTION object>, <gluon.html.OPTION object>, <gluon.html.OPTION object>, <gluon.html.OPTION object>, <gluon.html.OPTION object>, <gluon.html.OPTION object>, <gluon.html.OPTION object>, <gluon.html.OPTION object>, <gluon.html.OPTION object>, <gluon.html.OPTION object>, <gluon.html.OPTION object>, <gluon.html.OPTION object>, <gluon.html.OPTION object>, <gluon.html.OPTION object>, <gluon.html.OPTION object>, <gluon.html.OPTION object>, <gluon.html.OPTION object>, <gluon.html.OPTION object>, ...]'
p167
sS'registro_usuario'
p168
S"<Row {'departamento': 5L}>"
p169
sssS'traceback'
p170
S'Traceback (most recent call last):\n  File "/home/www-data/web2py/gluon/restricted.py", line 217, in restricted\n    exec ccode in environment\n  File "/home/www-data/web2py/applications/sicoin/controllers/correspondencia.py", line 827, in <module>\n  File "/home/www-data/web2py/gluon/globals.py", line 371, in <lambda>\n    self._caller = lambda f: f()\n  File "/home/www-data/web2py/applications/sicoin/controllers/correspondencia.py", line 730, in agregarCorrespondenciaMultiple2\n    modificado_el = request.now)\nTypeError: \'NoneType\' object is not callable\n'
p171
s.